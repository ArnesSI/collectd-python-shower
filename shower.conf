<Plugin "python">
    ModulePath "/opt/collectd/plugins/shower"
    Import "shower"

    <Module "shower">
        Verbose true
        Workers 10
        Username "admin"
        Password "password"
        <Data "cisco_ios_cpu">
            Style "regex"
            Name "cpu"
            Types "cpu_5sec" "cpu_1min" "cpu_5min"
            Table True
            Instance "core"
            Command "show processes cpu | include utilization"
            Regex "Core (?P<core>\d+):.+:\s?(?P<cpu_5sec>\d+)%.+:\s?(?P<cpu_1min>\d+)%.+:\s?(?P<cpu_5min>\d+)%"
        </Data>
        <Host "myrouter">
            Type "cisco_ios"
            Address "myrouter.example.com"
            Collect "cisco_ios_cpu"
        </Host>
    </Module>
</Plugin>

# vim: tabstop=4 shiftwidth=4 expandtab syntax=apache
